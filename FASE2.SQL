CREATE OR REPLACE PROCEDURE TODOS_TRABAJADORES
(CURSOR1 OUT SYS_REFCURSOR)
AS
NO_DATA_FOUND EXCEPTION;
OTHERS EXCEPTION;
BEGIN
  OPEN CURSOR1 FOR
  SELECT NOMBRE, AP1 AS APELLIDO_UNO, AP2 AS APELLIDO_DOS FROM TRABAJADOR;
EXCEPTION 
  WHEN NO_DATA_FOUND THEN
  RAISE NO_DATA_FOUND;
  WHEN OTHERS THEN
  RAISE OTHERS;
END TODOS_TRABAJADORES;



CREATE OR REPLACE PROCEDURE UN_TRABAJADOR
(ID_TRABAJADOR_V IN TRABAJADOR.ID_TRABAJADOR%TYPE,
DATOS OUT TRABAJADOR%ROWTYPE)
AS
NO_DATA_FOUND EXCEPTION;
TOO_MANY_ROWS EXCEPTION;
OTHERS EXCEPTION;
BEGIN
  SELECT * INTO DATOS FROM TRABAJADOR WHERE ID_TRABAJADOR=ID_TRABAJADOR_V;
EXCEPTION 
  WHEN NO_DATA_FOUND THEN
  RAISE NO_DATA_FOUND;
  WHEN TOO_MANY_ROWS THEN
  RAISE TOO_MANY_ROWS;
  WHEN OTHERS THEN
  RAISE OTHERS;
END UN_TRABAJADOR;



CREATE OR REPLACE PACKAGE VISTAS_CENTROS IS
  PROCEDURE TODOS_CENTROS (CURSOR1 OUT SYS_REFCURSOR);
  PROCEDURE UN_CENTRO (ID_CENTRO_V IN CENTRO.ID_CENTRO%TYPE,DATOS OUT CENTRO%ROWTYPE);
END;

CREATE OR REPLACE PACKAGE BODY VISTAS_CENTROS IS
  PROCEDURE TODOS_CENTROS (CURSOR1 OUT SYS_REFCURSOR)
AS
NO_DATA_FOUND EXCEPTION;
OTHERS EXCEPTION;
BEGIN
  OPEN CURSOR1 FOR
  SELECT NOMBRE, LOC AS LOCALIZACION FROM CENTRO;
EXCEPTION
  WHEN NO_DATA_FOUND THEN
  RAISE NO_DATA_FOUND;
  WHEN OTHERS THEN
  RAISE OTHERS;
END TODOS_CENTROS;
  PROCEDURE UN_CENTRO (ID_CENTRO_V IN CENTRO.ID_CENTRO%TYPE,DATOS OUT CENTRO%ROWTYPE)
AS
NO_DATA_FOUND EXCEPTION;
TOO_MANY_ROWS EXCEPTION;
OTHERS EXCEPTION;
BEGIN
  SELECT * INTO DATOS FROM CENTRO WHERE ID_CENTRO=ID_CENTRO_V;
EXCEPTION 
  WHEN NO_DATA_FOUND THEN
  RAISE NO_DATA_FOUND;
  WHEN TOO_MANY_ROWS THEN
  RAISE TOO_MANY_ROWS;
  WHEN OTHERS THEN
  RAISE OTHERS;
END UN_CENTRO;
END VISTAS_CENTROS;
